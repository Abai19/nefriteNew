/*! For license information please see combined_slideview_loggedout.b12281bf19b4ee77c73c.js.LICENSE.txt */
!function(){var e={89835:function(e,t,o){"use strict";o(25840);var i=o(86544);$((function(){const e=window.slideshare_object,t=window.slideshare_object.utils;function o(e,t,o){var i={slideshow_id:e.id,slideshow_created_at:e.createdAt,slideshow_language:e.language,slideshow_format:e.format,source:o||window.location.pathname};amplitude.getInstance().logEvent(t,i)}function n(e,t,i){var n=e.data("download"),a=e.data("event-tracking-source");e.attr("disabled",!0),$.post(n,(function(n){var d,r,l;if(n.success&&n.url){(l=$("#j-downloading-alert")).show(),setTimeout((function(){l.hide()}),3e3),o(t,"slideshow_download_init",a);const e=document.createElement("iframe");e.src=n.url,e.style.display="none",document.body.appendChild(e)}else"error"==n.action?(d=n.error,(r=$("#alert-modal")).find("p").html(d),r.foundation("reveal","open")):"subscription_required"!=n.action||i||s(t);e.removeAttr("disabled")}))}function s(t,o=""){const n=e.slideshow&&t.id==e.slideshow.id?e.key:void 0;var s;$.cookie("logout_action","save",{path:"/",expires:(s=new Date,s.setTime(s.getTime()+12e4))}),(0,i.Z)({from_source:`${t.url}?from_action=save${o}`,slideshow_id:t.id,slideshow_key:n,isDownload:!0})}function a(t){var o=e.slideshow;return o?{id:o.id,url:o.ss_url,createdAt:o.created_at,category:e.gam_cat_name,language:o.language,format:o.type,subscriptionRequired:o.subscription_required}:{id:$(t).attr("data-ssid"),url:$(t).attr("data-ss-url"),createdAt:$(t).attr("data-ss-created-at"),language:$(t).attr("data-ss-language"),format:$(t).attr("data-ss-format"),subscriptionRequired:"true"===$(t).attr("data-subscription-required")}}$("[data-download]").click((function(e){e.preventDefault(),e.stopPropagation();const i=$(this),d=a(i);o(d,"slideshow_download_attempt",$(i).data("event-tracking-source")),t.isUserAuthenticated()?n(i,d,!1):s(d)})),$((function(){$("[data-download-start-automatically]").each((function(){var e=a($(this));n($(this),e,!0)}))}))}))},38268:function(e,t,o){"use strict";$("#new-player .slide"),$("#slide-container"),$("#new-player .slide-image").first(),$("#new-player .slide.current .slide-image"),$("#new-player #current-slide"),$("#new-player #stage"),$("#progress-bar "),$("#new-player"),$("#player-toolbar")},68153:function(e,t,o){"use strict";o(38268)},38091:function(){!function(e){var t=".action-flag .flag",o="span.flagged",i="a.action-flag",n=".flag-inappropriate .action-submit",s="#flag-error-alert",a=".report-dropdown";function d(){$(o).addClass("hide"),$(t).removeClass("hide"),$(i).removeClass("hide"),$(a).removeClass("hide")}function r(){$(o).removeClass("hide"),$(t).addClass("hide"),$(i).click((function(e){e.preventDefault()})),$(i).removeClass("hide"),$(a).addClass("hide")}e.setup_flagging_interaction=function(){var t=!!this.flagging.flagged_value;$.extend(this.flagging,{postUpdate:function(){var t=$(".flag-inappropriate form select").val();$(n).prop("disabled",!0),$.post(e.flagging.update_url,{ia_value:t,slideshow_id:e.presentationId,source:"slideviewer"},(function(e){log("POST Success: "+e),$("#report-slideshow-modal").foundation("reveal","close"),$(s).addClass("hide"),$("#slideview-report-notice").removeClass("hide"),$(i).attr("disabled",!0),r(),$(window).scrollTop(0)})).fail((function(e){log(e),$(s).removeClass("hide")})).always((function(){$(n).prop("disabled",!1)}))}}),this.user.loggedin?t?r():($(i).attr("disabled",!1),$(n).click((function(t){t.stopPropagation(),t.preventDefault(),e.flagging.postUpdate()})),d()):d()}}(window.slideshare_object)},86544:function(e,t){"use strict";let o;t.Z=e=>{const t={from_source:e.from_source||"/",initial_view:e.initial_view||"join",slideshow_id:e.slideshow_id,slideshow_key:e.slideshow_key,device_id:"undefined"!=typeof amplitude&&amplitude.getInstance()&&amplitude.getInstance().options?amplitude.getInstance().options.deviceId:"",download:e.isDownload},i=new FormData;for(let[e,o]of Object.entries(t))o&&i.append(e,o);(o=o||new Promise(((e,t)=>{const o=document.querySelector('meta[name="csrf-token"]');if(o)return e(o.getAttribute("content"));fetch("/csrf_token",{credentials:"same-origin",method:"GET"}).then((e=>{if(e.ok)return e.json();t(`http error: ${e.status}`)})).then((t=>e(t.csrf_token)))})),o).then((e=>fetch("/scribd/authorize",{credentials:"same-origin",headers:{"X-CSRF-Token":e},method:"POST",body:i}).then((e=>e.json())).then((e=>{const t=document.createElement("form");t.setAttribute("action",e.url),t.setAttribute("method","POST");for(let[o,i]of Object.entries(e.params)){const e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name",o),e.value=i,t.appendChild(e)}document.body.appendChild(t),t.submit()}))))}},25840:function(){!function(e){function t(e){return a.raw?e:encodeURIComponent(e)}function o(e){return a.raw?e:decodeURIComponent(e)}function i(e){return t(a.json?JSON.stringify(e):String(e))}function n(t,o){var i=a.raw?t:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(s," ")),a.json?JSON.parse(e):e}catch(e){}}(t);return e.isFunction(o)?o(i):i}var s=/\+/g,a=e.cookie=function(s,d,r){if(void 0!==d&&!e.isFunction(d)){if("number"==typeof(r=e.extend({},a.defaults,r)).expires){var l=r.expires,c=r.expires=new Date;c.setTime(+c+864e5*l)}return document.cookie=[t(s),"=",i(d),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}for(var u=s?void 0:{},f=document.cookie?document.cookie.split("; "):[],p=0,h=f.length;h>p;p++){var w=f[p].split("="),m=o(w.shift()),g=w.join("=");if(s&&s===m){u=n(g,d);break}s||void 0===(g=n(g))||(u[m]=g)}return u};a.defaults={},e.removeCookie=function(t,o){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},o,{expires:-1})),!e.cookie(t))}}($)}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,o),s.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},("undefined"!=typeof window?window:void 0!==o.g?o.g:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"2ec35d21b32c3d65eb8426b9d99cec927f82783a"},function(){"use strict";var e=o(86544);function t(e){void 0!==e&&this.setup_slideview_contacts_interaction(e)}t.prototype.add_contact=function(e,t,o){$.ajax({url:"/contact/create",type:"POST",dataType:"json",data:{contactee:e},success:function(e){e.suspended?window.location.replace("/login"):e.follow_limit_reached?window.location.reload():t(e)},error:o})},t.prototype.delete_contact=function(e,t,o){$.ajax({url:"/contact/delete",type:"POST",dataType:"json",data:{contactee:e},success:function(e){e.success?t(e):o(e)},error:function(e){o(e)}})},t.prototype.setup_slideview_contacts_interaction=function(t){var o=!1,i=this;$(".j-follow").on("click",(function(n){var s=$(this),a=s.data("contactee-id");if(t.user.loggedin){n.preventDefault();var d=s.hasClass("following")?"unfollow":"follow";o||(s.addClass("loading"),s.find(".j-follow-progress").removeClass("hide"),function(e,t,n){o=!0;var s="authorthumbnail>"+e;window._gaq.push(["_trackEvent","bigfoot_slideview",s]);var a=function(e){t.removeClass("loading"),e.success?(t.toggleClass("following"),t.find(".j-follow-progress").addClass("hide"),window._gaq.push(["_trackEvent","bigfoot_slideview",s+"_failed"]),o=!1):d()},d=function(e){t.removeClass("loading"),window._gaq.push(["_trackEvent","bigfoot_slideview",s+"_failed"]),o=!1},r=$(".check-circle-icon");"follow"===e?(r.addClass("following"),i.add_contact(n,a,d)):"unfollow"===e&&(r.removeClass("following"),i.delete_contact(n,a,d))}(d,s,a))}else{n.preventDefault(),n.stopPropagation();var r={event:"follow",data:{contactee:a}};t.addAfterLoginEvent(r),(0,e.Z)({from_source:window.location.pathname})}}))},window.SSContactsFollow=t;var i,n=t;o(38091),o(89835),i=!1,$("#slideshow-views-modal-trigger").on("click",(function(){!function(){if(!i){i=!0;var e={id:slideshare_object.slideshow.id};slideshare_object.analytics_api_enabled&&$.ajax({type:"GET",url:"/slideshow/stats",data:e,dataType:"json",success:function(e){var t=$(".j-info-embeds"),o=t.find(".j-embeds-container");if($(".j-slideshare-views").text(e.slideshow_analytics_on_ss),$(".j-embed-views").text(e.slideshow_analytics_views_from_embeds),e.slideshow_analytics_top_embeds.length>0){for(var i=0;i<e.slideshow_analytics_top_embeds.length;i++){var n=e.slideshow_analytics_top_embeds[i];o.append('<div class="small-8 columns stat-label">'+n.url+'</div><div class="small-4 columns stat-value text-right">'+n.hits+"</div>")}t.find(".j-no-embeds").remove(),o.show()}}})}}()})),new n(slideshare_object),slideshare_object.setup_flagging_interaction(),slideshare_object.clippingTracker=new slideshare_object.ClippingTracker({userIsOwner:slideshare_object.user&&slideshare_object.user.loggedin}),$((function(){const t=window.slideshare_object,o=window.slideshare_object.utils;function i(e){const o=t.slideshow,i={slideshow_id:o.id,slideshow_created_at:o.created_at,slideshow_category:t.gam_cat_name,slideshow_language:o.language,slideshow_format:o.type,source:"slideshow_view"};amplitude.getInstance().logEvent(e,i)}function n(e){var t=$(".j-like-count");for(let s=0;s<t.length;s++){const a=$(t[s]);var i=parseInt(a.attr("data-favorites-count"),10)+e,n=a.attr("data-populate-favorites-count-only");a.attr("data-favorites-count",i),"true"===n?a.text(i):a.text(o.i18n("slideshow.foundation_slideview.likes_count",[{count:i}]))}}function s(){return{slideshow_id:t.presentationId,user_id:t.user.id,source:"slideviewer"}}function a(){$("#report-slideshow-modal").addClass("hidden"),$("body").removeClass("no_scroll")}function d(){$("#slideshow-likes-modal").addClass("hidden"),$("body").removeClass("no_scroll")}function r(){$("#slideshow-views-modal").addClass("hidden"),$("body").removeClass("no_scroll")}function l(e,t){const o=document.createElement(e);return o.setAttribute("class",t),o}function c(e,t){const o=document.createElement(e);for(let e in t)o.setAttribute(e,t[e]);return o}function u(e,t){e&&t.appendChild(document.createTextNode(e))}$(".j-like-button").on("click",(function(){const a=$(".j-like-button").attr("data-action");if(o.isUserAuthenticated())"like"===a?$.post(t.favorites.create_url,s()).then((function(){$(".j-like-button").addClass("liked").attr("data-action","unlike").children("i").removeClass("icon-heart").addClass("icon-heart-filled"),n(1),i("slideshow_liked")})):"unlike"===a&&$.post(t.favorites.delete_url,s()).then((function(){$(".j-like-button").removeClass("liked").attr("data-action","like").children("i").removeClass("icon-heart-filled").addClass("icon-heart"),n(-1),i("slideshow_unliked")}));else{var d={event:"like",data:{slideshow_id:t.slideshow.id}};t.addAfterLoginEvent(d),(0,e.Z)({from_source:window.location.pathname,slideshow_id:t.slideshow.id})}})),$("#slideshow-likes-modal-trigger").on("click",(function(){$("#slideshow-likes-modal").removeClass("hidden"),$("#slideshow-likes-modal .close").focus(),$("body").addClass("no_scroll")})),$("#slideshow-likes-modal .close").on("click",d),$("#slideshow-likes-modal .mobile-back-button").on("click",d),$("#slideshow-likes-modal-backdrop").on("click",d),$("#slideshow-views-modal-trigger").on("click",(function(){$("#slideshow-views-modal").removeClass("hidden"),$("#slideshow-views-modal .close").focus(),$("body").addClass("no_scroll")})),$("#slideshow-views-modal .close").on("click",r),$("#slideshow-views-modal .mobile-back-button").on("click",r),$("#slideshow-views-modal-backdrop").on("click",r),$(".report").on("click",(function(i){o.isUserAuthenticated()?($("#report-slideshow-modal").removeClass("hidden"),$("body").addClass("no_scroll")):(i.preventDefault(),i.stopPropagation(),null!==window.cookie("after_login_action")&&window.cookie("after_login_action","",{path:"/","max-age":-1}),(0,e.Z)({from_source:window.location.pathname,slideshow_id:t.slideshow.id}))})),$("#report-slideshow-modal .close").on("click",a),$("#report-slideshow-modal-backdrop").on("click",a),$("#js-expand-description").on("click",(function(){$("#fade-slideshow-description").addClass("hidden"),$("#js-expand-description").addClass("hidden"),$(".slideshow-description-text-wrapper").removeClass("truncated")})),$(".j-more-favs").on("click",(function(){const{total:e,url:o}=t.activities.favorites;let i=o;const n=$("#favs-list"),s="offset="+$(".likes-row").length;i.indexOf("?")>=0?i+="&"+s:i+="?"+s,fetch(i,{method:"GET"}).then((e=>e.ok?e.json():e.json().then((e=>Promise.reject({status:e.status,message:"Please try again in sometime."}))))).then((t=>{const o=t.reduce(((e,t)=>{const o=l("div","likes-row"),i=c("a",{class:"author-photo-thumbnail",alt:"user thumbnail image",title:t.login,href:`/${t.login}?utm_campaign=profiletracking&utm_medium=sssite&utm_source=ssslideshow`}),n=c("img",{class:"lazy-thumb-img",alt:t.login,src:t.photo}),s=c("a",{class:"author-info",alt:"favoriter information",title:t.login,href:`/${t.login}?utm_campaign=profiletracking&utm_medium=sssite&utm_source=ssslideshow`}),a=l("div","username-time"),d=l("span","username");u(t.user_name,d);const r=l("span","liked-time");u(t.summary,r);const f=l("div","user-info"),p=l("span","favoriter-role");u(t.user_occupation,p);const h=l("span","favoriter-org");return h.appendChild(document.createTextNode(t.user_organization)),u(t.user_organization,h),i.appendChild(n),a.appendChild(d),a.appendChild(r),f.appendChild(p),f.appendChild(h),s.appendChild(a),s.appendChild(f),o.appendChild(i),o.appendChild(s),e.appendChild(o),e}),document.createDocumentFragment());n.append(o),$(".likes-row").length==e&&$(".more-container").hide()})).catch((e=>{throw new Error("Error fetching more favorites information")}))}))})),window.addEventListener("DOMContentLoaded",(()=>{const e=$("#slideshow-description-text").html();e&&e.length>200&&($("#fade-slideshow-description").removeClass("hidden"),$("#js-expand-description").removeClass("hidden"),$(".slideshow-description-text-wrapper").addClass("truncated"))})),o(68153)}()}();
//# sourceMappingURL=combined_slideview_loggedout.b12281bf19b4ee77c73c.js.map